<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>YoastSEO Writing Assistant</title>

		<!-- Material UI CSS -->
		<!-- Compiled and minified CSS -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

		<!-- Compiled and minified JavaScript -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col s12">
					<h5 class="light">YoastSEO Writing Assistant</h5>
				</div>
			</div>
			<div class="content">
				<h6 class="light">Content Analysis</h6>
				<ul class="collection">
					<? 
						// Retrieve the analysis result data from Apps Script server-side
						let contentResults = JSON.parse(analysisResult().content);
						let color = '';
					?>
					<? contentResults.forEach((result) => { ?>
						<? if ( result.score > 0 ) { ?>
						<? if ( result.score < 3 ) {
								color = 'red';
							} else if ( result.score < 5 ) {
								color = 'orange';
							} else {
								color = 'green';
							}
						?>
						<li class="collection-item">
							<span class="new badge <?= color ?>" data-badge-caption="Score : ">
								<?= result.score ?>
							</span>
							<p class="light">
								<?!= result.text ?>
							</p>
						</li>
						<? } ?>
					<? }); ?>
				</ul>
				<h6 class="light">SEO Analysis</h6>
				<ul class="collection">
					<? 
						// Retrieve the analysis result data from Apps Script server-side
						let seoResults = JSON.parse(analysisResult().seo);
					?>
					<? seoResults.forEach((result) => { ?>
						<? if ( result.score > 0 ) { ?>
						<? if ( result.score < 3 ) {
								color = 'red';
							} else if ( result.score < 5 ) {
								color = 'orange';
							} else {
								color = 'green';
							}
						?>
						<li class="collection-item">
							<span class="new badge <?= color ?>" data-badge-caption="Score : ">
								<?= result.score ?>
							</span>
							<p class="light">
								<?!= result.text ?>
							</p>
						</li>
						<? } ?>
					<? }); ?>
				</ul>
			</div>
		</div>
	</body>
</html>
